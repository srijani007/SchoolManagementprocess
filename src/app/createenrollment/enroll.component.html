<!-- <p>createuser works!</p> -->

<div class="container">
    <form *ngIf="!isSuccessful" name="form" #f="ngForm" validate>
        <div style='margin-top: 15%;'>
            <div>
                <h1>{{enrollname}} Course</h1>
            </div>
            <div>
                <div class='card-body'>
                    <!-- <div class="row mt-3">
                        <label>Course Id: </label>
                        <input type="id" name="idcourse" #idcourse="ngModel" class="form-control" required
                            [(ngModel)]="enrollDetails.idCourse" />
                    </div> -->

                    <div class="row mt-3">
                        <label>User Name: </label>
                        <select onfocus='this.size=3;' onblur='this.size=1;' onchange='this.size=1; this.blur();' name="iduser" #iduser="ngModel" class="form-control" required
                            [(ngModel)]="enrollDetails.idUser">
                             <option   *ngFor=" let name of users" value="{{name.id}}">
                                {{name.userName}}
                            </option>
                        </select>
                        <div *ngIf="iduser.errors?.['required'] && iduser.touched " class="text-danger">
                            User Id is required
                        </div>
                    </div>

                    <div class="row mt-3">
                        <label>Start Date: </label>
                        <input type="date" name="startdate"  #startdate="ngModel" class="form-control" required
                            [(ngModel)]="enrollDetails.startdate" [min]="todayDate" />
                        <div *ngIf="startdate.errors?.['required'] && startdate.touched" class="text-danger">Startdate is
                            required</div>
                    </div>

                    <div class="row mt-3">
                        <label>End Date: </label>
                        <input type="date" name="enddate" #enddate="ngModel" class="form-control" required
                            [(ngModel)]="enrollDetails.enddate" [min]="todayDate" />
                        <div *ngIf="enddate.errors?.['required'] && enddate.touched" class="text-danger">Enddate is required</div>
                    </div>

                    <div class="row mt-3">
                        <label>User Role: </label>
                        <select class="form-control"  name="idRole" #idRole="ngModel" required
                            [(ngModel)]="enrollDetails.roleId">
                            <option value="">Please select</option>
                            <option value="1">Admin</option>
                            <option value="2">Teacher</option>
                            <option value="3">Student</option>
                        </select>
                        <div *ngIf="idRole.errors?.['required'] && idRole.touched" class="text-danger">
                            Role is required
                        </div>
                    </div>                   

                    <div class="row mt-3">
                        <div class="form-group row">
                            <div class='col-md-4'></div>
                            <div class='col-md-2'>
                                <button class="btn btn-primary" [disabled]="f.invalid" (click)="onSubmit()">Submit</button>
                            </div>                            
                            <div class='col-md-4'></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>